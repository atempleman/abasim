<section class="dashboard-area">
	<h3 class="display">{{this.team?.mascot }} Dashboard</h3>
	<span class="badge badge-danger mb-3"
		*ngIf="this.league?.stateId == 1 || this.league?.stateId == 14">{{ this.league?.state }}</span>
	<span class="badge badge-info mb-3"
		*ngIf="this.league?.stateId == 2 || this.league?.stateId == 6">{{ this.league?.state }}</span>
	<span class="badge badge-success mb-3"
		*ngIf="this.league?.stateId == 3 || this.league?.stateId == 4 || this.league?.stateId == 5 || this.league?.stateId == 11 || this.league?.stateId == 13 || this.league?.stateId == 14">{{ this.league?.state }}</span>
	<span class="badge badge-primary mb-3" *ngIf="this.league?.stateId == 7">{{ this.league?.state }}</span>
	<span class="badge badge-warning mb-3"
		*ngIf="this.league?.stateId == 8 || this.league?.stateId == 9 || this.league?.stateId == 15">{{ this.league?.state }}</span>
	<span class="badge badge-secondary mb-3" *ngIf="this.league?.stateId == 10">{{ this.league?.state }}</span>
	<span
		*ngIf="this.league?.stateId >= 6 && this.league?.stateId != 12 && this.league?.stateId != 13 && this.league?.stateId != 14">
		- Day #{{ this.league?.day }}</span>
</section>


<div class="cardContainer">
	<ngx-spinner [fullScreen]="false" type="pacman" size="medium">
		<p class="loading">Loading Game Data...</p>
	</ngx-spinner>
	<div class="card" style="background-color:rgb(22, 24, 100);">
		<h4><i class="fa fa-calendar" aria-hidden="true"></i> TODAY'S GAMES</h4>
		<p class="text-success" *ngIf="this.league?.stateId == 1">Awaiting Users to register and fill the league</p>
		<p class="text-success" *ngIf="this.league?.stateId == 2">Initial Draft Lottery</p>
		<p class="text-success" *ngIf="this.league?.stateId == 3 || this.league?.stateId == 4">Initial League Draft
		</p>
		<p class="text-success" *ngIf="this.league?.stateId == 5">Beginning of the Preseason</p>
		<p class="text-success" *ngIf="this.league?.stateId == 6">Preason Day #{{ this.league?.day }}</p>
		<p class="text-success" *ngIf="this.league?.stateId == 7">Regular Season Day #{{ this.league?.day }}</p>
		<p class="text-success" *ngIf="this.league?.stateId == 8">Playoffs - Round 1 Day #{{ this.league?.day }}
		</p>
		<p class="text-success" *ngIf="this.league?.stateId == 9">Playoffs - Conference Semi Finals Day
			#{{ this.league?.day }}</p>
		<p class="text-success" *ngIf="this.league?.stateId == 10">Playoffs - Conference Finals
			#{{ this.league?.day }}</p>
		<p class="text-success" *ngIf="this.league?.stateId == 11">Playoffs - ABA Finals #{{ this.league?.day }}
		</p>
		<p class="text-success" *ngIf="this.league?.stateId == 12">Season End - Stats updates</p>
		<p class="text-success" *ngIf="this.league?.stateId == 13">Draft Lottery</p>
		<p class="text-success" *ngIf="this.league?.stateId == 14">Draft</p>
		<p class="text-success" *ngIf="this.league?.stateId == 15">Free Agency #{{ this.league?.day }}</p>

		<table class="table table-hover events-table"
			*ngIf="this.league?.stateId == 6 || this.league?.stateId == 7 || this.league?.stateId == 8 || this.league?.stateId == 9 || this.league?.stateId == 10 || this.league?.stateId == 11">
			<tbody>
				<tr class="table-secondary" *ngFor="let game of this.todaysGames">
					<td>
						{{ game.awayTeamName }} @ {{ game.homeTeamName }}
						<button
							*ngIf="this.isAdmin == 1 && game.completed == 0 && this.league?.stateId == 7 && this.noRun == 0"
							type="button" class="btn btn-link" (click)="runGameSeason(game)"><i
								class="fa fa-play-circle" aria-hidden="true"></i></button>
						<button
							*ngIf="this.isAdmin == 1 && game.completed == 0 && this.league?.stateId == 6 && this.noRun == 0"
							type="button" class="btn btn-link" (click)="runGame(game)"><i class="fa fa-play-circle"
								aria-hidden="true"></i></button>
						<button
							*ngIf="this.isAdmin == 1 && game.completed == 0 && (this.league?.stateId == 8 || this.league?.stateId == 9 || this.league?.stateId == 10 || this.league?.stateId == 11) && this.noRun == 0"
							type="button" class="btn btn-link" (click)="runGamePlayoffs(game)"><i
								class="fa fa-play-circle" aria-hidden="true"></i></button>
						<button *ngIf="game.completed == 1 && this.league?.stateId == 7" type="button"
							class="btn btn-link" (click)="watchGame(game.id, 1)"><i class="fa fa-eye"
								aria-hidden="true"></i></button>
						<button *ngIf="game.completed == 1 && this.league?.stateId >= 8 && this.league?.stateId <= 11"
							type="button" class="btn btn-link" (click)="watchGame(game.id, 2)"><i class="fa fa-eye"
								aria-hidden="true"></i></button>
						<button *ngIf="game.completed == 1 && this.league?.stateId == 6" type="button"
							class="btn btn-link" (click)="watchGame(game.id, 0)"><i class="fa fa-eye"
								aria-hidden="true"></i></button>
						&nbsp;
						<button *ngIf="game.completed == 1 && this.league?.stateId == 7" type="button"
							class="btn btn-link" (click)="fullGame(game.id, 1)"><i class="fa fa-list-ul"
								aria-hidden="true"></i></button>
						<button *ngIf="game.completed == 1 && this.league?.stateId >= 8 && this.league?.stateId <= 11"
							type="button" class="btn btn-link" (click)="fullGame(game.id, 2)"><i class="fa fa-list-ul"
								aria-hidden="true"></i></button>
						<button *ngIf="game.completed == 1 && this.league?.stateId == 6" type="button"
							class="btn btn-link" (click)="fullGame(game.id, 0)"><i class="fa fa-list-ul"
								aria-hidden="true"></i></button>
						&nbsp;
						<button *ngIf="game.completed == 1" type="button" class="btn btn-link"
							(click)="viewBoxScore(game.id)"><i class="fa fa-list-alt" aria-hidden="true"></i></button>
					</td>
				</tr>
			</tbody>
		</table>
		<h2 *ngIf="this.league?.stateId == 11 && this.league?.day > 28" class="text-success">The
			{{ champion.teamname }} {{ champion.mascot }} are the ABA champions!!</h2>
	</div>
	<div class="card" style="background-color:rgb(12, 126, 120);" *ngIf="this.league?.stateId == 1">
		<h4><i class="fa fa-newspaper-o" aria-hidden="true"></i> League News</h4>
		<p>Currently the league is taking on user registrations. If you know anyone get them to join the league! Once the league is full, the initial draft lottery will be run. For now use the global chat and scout players under the Players section.</p>
	</div>
	<div class="card" style="background-color:rgb(12, 126, 120);" *ngIf="this.league?.stateId == 2">
		<h4><i class="fa fa-newspaper-o" aria-hidden="true"></i> League News</h4>
		<p>The league has now been filled! The draft lottery will be run shortly!</p>
	</div>
	<div class="card" style="background-color:rgb(12, 126, 120);" *ngIf="this.league?.stateId == 3">
		<h4><i class="fa fa-newspaper-o" aria-hidden="true"></i> League News</h4>
		<p>The draft lottery has now been run. View the draft order and all things draft related under the draft menu option and don't forget to set your draftboard to cover the auto-picks! The draft will begin soon, exact time and date will be posted in the chat.</p>
	</div>
	<div class="card" style="background-color:rgb(12, 126, 120);" *ngIf="this.league?.stateId == 4">
		<h4><i class="fa fa-newspaper-o" aria-hidden="true"></i> League News</h4>
		<p>The draft is now underway! Go to the Draft menu option to view all things draft related.</p>
	</div>

	<div class="card" style="background-color:rgb(22, 24, 100);">
		<h4><i class="fa fa-commenting-o" aria-hidden="true"></i> GLOBAL CHAT <button class="btn btn-secondary ml-2" (click)="refreshChat()"><i
					class="fa fa-refresh"></i></button></h4>
		<p *ngIf="this.chatRecords.length == 0">No chat records exist</p>
		<table class="table table-hover events-table">
			<tbody>
				<tr class="table-secondary" *ngFor="let item of this.chatRecords">
					<td>
						<b>{{ item.username }}:</b>
						<p>{{ item.chatText }}</p>
					</td>
				</tr>
			</tbody>
		</table>
		<br />
		<div class="form-group">
			<form [formGroup]="chatForm" accept-charset="UTF-8" role="form" (ngSubmit)="sendChat()">
				<fieldset>
					<div class="form-group">
						<label for="exampleTextarea">Your Message</label>
						<textarea class="form-control" id="message" rows="2" name="message"
							formControlName="message"></textarea>
					</div>
					<input class="btn btn-primary mt-1" type="submit" value="Post">
				</fieldset>
			</form>
		</div>
	</div>
</div>

<!-- <carousel *ngIf="this.league.day != 0 && this.league.stateId == 7">
				<slide class="slideclass center-block">
					<div class="text-center py-5 bg-dark text-white">
						<h4>Points League Leaders</h4>
						<div class="lead">
							<div class="row stats"
								*ngIf="(this.league?.day > 0 && this.league?.stateId == 7 && this.topFivePoints?.length != 0)">
								<table class="table-secondary">
									<thead>
										<tr>
											<th>Rank</th>
											<th>Player</th>
											<th>Team</th>
											<th>PPG</th>
											<th></th>
										</tr>
									</thead>
									<tr *ngFor="let player of this.topFivePoints; let i = index">
										<td>{{ i + 1 }}</td>
										<td>{{ player.playerName }}</td>
										<td>{{ player.teamShortCode }}</td>
										<td>{{ (player.points / player.gamesPlayed).toFixed(1) }}</td>
										<td><button class="btn btn-info btn-xs tablebutton"
												(click)="viewPlayer(player.playerId)"><span
													class="glyphicon glyphicon-edit"></span> View</button></td>
									</tr>
								</table>
							</div>
						</div>
						<button class="btn btn-link" (click)="goToStats(1)">More</button>
					</div>
				</slide>
				<slide>
					<div class="text-center py-5 bg-dark text-white">
						<h4>Rebounding League Leaders</h4>
						<div class="lead">
							<div class="row stats"
								*ngIf="(this.league?.day > 0 && this.league?.stateId == 7 && this.topFiveRebounds?.length != 0)">
								<table class="table-secondary">
									<thead>
										<tr>
											<th>Rank</th>
											<th>Player</th>
											<th>Team</th>
											<th>RPG</th>
											<th></th>
										</tr>
									</thead>
									<tr *ngFor="let player of this.topFiveRebounds; let i = index">
										<td>{{ i + 1 }}</td>
										<td>{{ player.playerName }}</td>
										<td>{{ player.teamShortCode }}</td>
										<td>{{ (player.rebounds / player.gamesPlayed).toFixed(1) }}</td>
										<td><button class="btn btn-info btn-xs tablebutton"
												(click)="viewPlayer(player.playerId)"><span
													class="glyphicon glyphicon-edit"></span> View</button></td>
									</tr>
								</table>
							</div>
						</div>
						<button class="btn btn-link" (click)="goToStats(2)">More</button>
					</div>
				</slide>
				<slide>
					<div class="text-center py-5 bg-dark text-white">
						<h4>Assists League Leaders</h4>
						<div class="lead">
							<div class="row stats"
								*ngIf="(this.league?.day > 0 && this.league?.stateId == 7 && this.topFiveAssists?.length != 0)">
								<table class="table-secondary">
									<thead>
										<tr>
											<th>Rank</th>
											<th>Player</th>
											<th>Team</th>
											<th>APG</th>
											<th></th>
										</tr>
									</thead>
									<tr *ngFor="let player of this.topFiveAssists; let i = index">
										<td>{{ i + 1 }}</td>
										<td>{{ player.playerName }}</td>
										<td>{{ player.teamShortCode }}</td>
										<td>{{ (player.assists / player.gamesPlayed).toFixed(1) }}</td>
										<td><button class="btn btn-info btn-xs tablebutton"
												(click)="viewPlayer(player.playerId)"><span
													class="glyphicon glyphicon-edit"></span> View</button></td>
									</tr>
								</table>
							</div>
						</div>
						<button class="btn btn-link" (click)="goToStats(3)">More</button>
					</div>
				</slide>
				<slide>
					<div class="text-center py-5 bg-dark text-white">
						<h4>Steals League Leaders</h4>
						<div class="lead">
							<div class="row stats"
								*ngIf="(this.league?.day > 0 && this.league?.stateId == 7 && this.topFiveSteals?.length != 0)">
								<table class="table-secondary">
									<thead>
										<tr>
											<th>Rank</th>
											<th>Player</th>
											<th>Team</th>
											<th>SPG</th>
											<th></th>
										</tr>
									</thead>
									<tr *ngFor="let player of this.topFiveSteals; let i = index">
										<td>{{ i + 1 }}</td>
										<td>{{ player.playerName }}</td>
										<td>{{ player.teamShortCode }}</td>
										<td>{{ (player.steals / player.gamesPlayed).toFixed(1) }}</td>
										<td><button class="btn btn-info btn-xs tablebutton"
												(click)="viewPlayer(player.playerId)"><span
													class="glyphicon glyphicon-edit"></span> View</button></td>
									</tr>
								</table>
							</div>
						</div>
						<button class="btn btn-link" (click)="goToStats(4)">More</button>
					</div>
				</slide>
				<slide>
					<div class="text-center py-5 bg-dark text-white">
						<h4>Blocks League Leaders</h4>
						<div class="lead">
							<div class="row stats"
								*ngIf="(this.league?.day > 0 && this.league?.stateId == 7 && this.topFiveBlocks?.length != 0)">
								<table class="table-secondary">
									<thead>
										<tr>
											<th>Rank</th>
											<th>Player</th>
											<th>Team</th>
											<th>BPG</th>
											<th></th>
										</tr>
									</thead>
									<tr *ngFor="let player of this.topFiveBlocks; let i = index">
										<td>{{ i + 1 }}</td>
										<td>{{ player.playerName }}</td>
										<td>{{ player.teamShortCode }}</td>
										<td>{{ (player.blocks / player.gamesPlayed).toFixed(1) }}</td>
										<td><button class="btn btn-info btn-xs tablebutton"
												(click)="viewPlayer(player.playerId)"><span
													class="glyphicon glyphicon-edit"></span> View</button></td>
									</tr>
								</table>
							</div>
						</div>
						<button class="btn btn-link" (click)="goToStats(5)">More</button>
					</div>
				</slide>
			</carousel> -->

<!-- <div class="text-center py-5 bg-dark text-white" *ngIf="this.league.day != 0 && this.league.stateId == 8">
				<h4>Playoff Matchups - Round 1</h4>
				<div class="lead">
					<div class="row stats">
						<table class="table-secondary">
							<tr *ngFor="let summary of this.playoffSummaries">
								<td>{{ summary.homeTeam }} ({{ summary.homeWins }}) vs {{ summary.awayTeam }}
									({{ summary.awayWins }})</td>
							</tr>
						</table>
					</div>
				</div>
			</div>

			<div class="text-center py-5 bg-dark text-white" *ngIf="this.league.day != 0 && this.league.stateId == 9">
				<h4>Playoff Matchups - Conference Semis</h4>
				<div class="lead">
					<div class="row stats">
						<table class="table-secondary">
							<tr *ngFor="let summary of this.playoffSummaries">
								<td>{{ summary.homeTeam }} ({{ summary.homeWins }}) vs {{ summary.awayTeam }}
									({{ summary.awayWins }})</td>
							</tr>
						</table>
					</div>
				</div>
			</div>

			<div class="text-center py-5 bg-dark text-white" *ngIf="this.league.day != 0 && this.league.stateId == 10">
				<h4>Playoff Matchups - Conference Finals</h4>
				<div class="lead">
					<div class="row stats">
						<table class="table-secondary">
							<tr *ngFor="let summary of this.playoffSummaries">
								<td>{{ summary.homeTeam }} ({{ summary.homeWins }}) vs {{ summary.awayTeam }}
									({{ summary.awayWins }})</td>
							</tr>
						</table>
					</div>
				</div>
			</div>

			<div class="text-center py-5 bg-dark text-white" *ngIf="this.league.day != 0 && this.league.stateId == 11">
				<h4>Playoff Matchups - FINALS</h4>
				<div class="lead">
					<div class="row stats">
						<table class="table-secondary">
							<tr *ngFor="let summary of this.playoffSummaries">
								<td>{{ summary.homeTeam }} ({{ summary.homeWins }}) vs {{ summary.awayTeam }}
									({{ summary.awayWins }})</td>
							</tr>
						</table>
					</div>
				</div>
			</div> -->
<!-- </div>
	</div> -->
<!-- <div class="row event-row events">
		<div class="events col-lg-12">
			<h4>Global Chat <button class="btn btn-secondary ml-2" (click)="refreshChat()"><i
						class="fa fa-refresh"></i></button></h4>
			<p *ngIf="this.chatRecords.length == 0">No chat records exist</p>
			<table class="table table-hover events-table">
				<tbody>
					<tr class="table-secondary" *ngFor="let item of this.chatRecords">
						<td>
							<b>{{ item.username }}:</b>
							<p>{{ item.chatText }}</p>
						</td>
					</tr>
				</tbody>
			</table>
			<br />
			<div class="form-group">
				<form [formGroup]="chatForm" accept-charset="UTF-8" role="form" (ngSubmit)="sendChat()">
					<fieldset>
						<div class="form-group">
							<label for="exampleTextarea">Your Message</label>
							<textarea class="form-control" id="message" rows="2" name="message"
								formControlName="message"></textarea>
						</div>
						<input class="btn btn-primary mt-1" type="submit" value="Post">
					</fieldset>
				</form>
			</div>
		</div>
	</div> -->
<!-- </div> -->